<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:of="http://omnifaces.org/functions">
	<h:head>
		<meta http-equiv="Content-Language" content="pt-br"/>	
	    <meta charset="utf-8"/>
	    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	    <title><h:outputText value="#{msg['page.internal.error.title']}" /></title>
	    <h:outputStylesheet library="css" name="bootstrap.css"/>
	    <h:outputStylesheet library="css" name="font-awesome.css"/>
	    <h:outputStylesheet library="css" name="animate.css"/>
	    <h:outputStylesheet library="css" name="style.css"/>
	</h:head>
	<h:body class="gray-bg">
	    <div class="middle-box text-center animated fadeInDown">
	        <h1><h:outputText value="#{msg['page.exception.error.code']}" /></h1>
	        <h3 class="font-bold"><h:outputText value="#{msg['page.exception.error.msg']}" /></h3>
	        <div class="error-desc">
	        	<h:outputText value="#{msg['page.exception.error.text']}" /><br/>
	            <h:outputText value="#{msg['page.exception.error.text.return']}"/><br/>
	        	<div class="alert alert-danger">
					<ul>
					    <li>Date/time: #{of:formatDate(now, 'dd-MM-yyyy HH:mm:ss')}</li>
					    <li>User agent: #{header['user-agent']}</li>
					    <li>User IP: #{request.remoteAddr}</li>
					    <li>Request URI: #{requestScope['javax.servlet.error.request_uri']}</li>
					    <li>Ajax request: #{facesContext.partialViewContext.ajaxRequest ? 'Yes' : 'No'}</li>
					    <li>Status code: #{requestScope['javax.servlet.error.status_code']}</li>
					    <li>Exception type: #{requestScope['javax.servlet.error.exception_type']}</li>
					    <li>Exception message: #{requestScope['javax.servlet.error.message']}</li>
					    <li>Stack trace:
					        <pre>#{of:printStackTrace(requestScope['javax.servlet.error.exception'])}</pre>
					    </li>
					</ul>	        
	        	</div>
            	<h:link outcome="/pages/dashboard/index.xhtml" styleClass="btn btn-primary m-t">
            		<h:outputText value="#{msg['page.exception.error.back']}" />
            	</h:link>
	            	
	        </div>
	    </div>
	    <!-- Mainly scripts -->
	    <h:outputScript library="js" name="jquery-2.js" />
	    <h:outputScript library="js" name="bootstrap.js" />
	</h:body>
</html>
